## 函数

函数定义

```js
// 函数声明
function showName(name: string): void {
  console.log(name)
}
// 函数调用
showName('xiaoqiang')
```

函数表达式

```js
let showName2 = function (name: string, age: number): void {
  console.log(name, age)
}
showName2('小李', 20)
```

定义函数类型

```js
type show = (x: string, y: number) => string
let showPerson: show = function (name: string, age: number): string {
  return 'hello'
}
```

注意：函数类型定义好以后，可以简写

```ts
type show = (x: string, y: number) => string
let showPerson: show = function (name, age) {
  return 'hello'
}
```

可选参数

```js
// 使用 ？ 表示参数是可选的
function showName3(name: string, age?: number): void {
  console.log(name, age)
}
```

默认参数

```js
// 直接给参数赋值，即为默认参数
function showName4(name: string, age: number = 10): void {
  console.log(name, age)
}
```

剩余参数

```js
function sum(...arg: number[]): void {
  console.log(arg)
}
sum(1, 2, 3, 4)
```

函数重载

在 ts 中，函数重载是约束函数传入不同数量或者类型的参数时，做出不同的处理，即为同一个函数提供多个函数类型，函数重载的意义在于让你清晰的知道传入不同的参数得到不同的结果。如果不是这种情况，那就不需要使用函数重载。

举个例子：

我有一个需求，传入数字，给我返回数字，传入的是字符串，返回字符串数据，代码如下

```ts
function fn(a: number | string): number | string | void {
  if (typeof a == 'number') {
    return a + 10
  }
  if (typeof a == 'string') {
    return a + 'hello world'
  }
}
fn('xiaoqiang')
```

这样写其实不够精确表达，我希望的是输入是数字，返回的也是数字，输入是字符串，返回的也是字符串，单上面的这种写法，不管你传入的是数字还是字符串，返回的结果都是 number | string | void 类型，可以看一下编辑器给我们的提示

![20221117173544](https://nodeing-com-1252923609.cos.ap-chengdu.myqcloud.com//document20221117173544.png)

我们可以使用函数重载来对函数的传惨以及返回值做约束，写法如下

```ts
function fn(a: number): number
function fn(a: number | string): number | string | void {
  if (typeof a == 'number') {
    return a + 10
  }
  if (typeof a == 'string') {
    return a + 'hello world'
  }
}
console.log(fn('1'))
```

此时你会发现，函数调用的时候，传入字符串已经不行了，会提示错误

![20221117171723](https://nodeing-com-1252923609.cos.ap-chengdu.myqcloud.com//document20221117171723.png)

我们再加上一个字符串类型的函数定义

```ts
function fn(a: string): string
function fn(a: number): number
function fn(a: number | string): number | string | void {
  if (typeof a == 'number') {
    return a + 10
  }
  if (typeof a == 'string') {
    return a + 'hello world'
  }
}
console.log(fn('1'))
```

此时，你会发现，ts 给我们的提示也是非常精确的

![20221117173650](https://nodeing-com-1252923609.cos.ap-chengdu.myqcloud.com//document20221117173650.png)
