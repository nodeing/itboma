## 类型系统

## 声明一个变量的类型举例：

```js
let url: string = 'nodeing.com'
let count: number = 20
// 声明一个数组，里面元素类型为number，如果里面元素有别的类型会报错
let arr: Array<number> = [1, 2, 3]
// 声明数组的另一种写法
let arr2: string[] = ['a', 'b']
```

## 主要类型了解

先掌握下面的这些类型，新增的类型再来单个击破，以下这些关键字可以记一下

```js
boolean 布尔类型
number  数字类型
string  字符串类型
object 表示非原始类型， 除number，string，boolean，symbol，null或undefined之外的类型。
Array   数组类型， 声明的时候也可以使用 sring[] 或者 number[]这种方式
[string, number] 元组   let x: [string, number] = ["a", 2]
enum    枚举  enum Color {Red, Green, Blue}
any    任何类型都可以，跳过类型检查
void   没有任何类型，和Any相反
null 和 Undefined
never  那些永不存在的值的类型，抛出异常或者死循环的函数永远没有返回值，类型就是never
```

## 类型演示

### 布尔类型

```js
let flag: boolean = true
console.log(flag)
```

### 数字类型

所有数字都是浮点数，不区分整数还是小数，可以支持二进制、八进制、十进制、十六进制

```js
let a: number = 0b1101
let b: number = 0o1022
let c: number = 10
let d: number = 0xfff
console.log(a, b, c, d)
```

### 字符串类型

使用单引号和双引号来定义字符串

```js
let s1: string = 'hello,nodeing.com'
let s2: string = 'hello,nodeing.com'
console.log(s1, s2)
```

使用反引号定义字符串

```js
let s1: string = 'nodeing.com'
let s2: string = `hello, ${s1}`
console.log(s2)
```

### 数组类型

第一种定义数组的方式: 类型[]

```js
// number 规定了数组里面元素的类型
let arr: number[] = [1, 2, 3]
```

第二种定义数组的方式： Array<类型>

```js
let arr: Array<number> = [1, 2, 3]
```

### 元祖类型

元组（ Tuple ）表示一个已知数量和类型的数组,通俗的说，元组就是一个固定了的数组，长度不可以改变，但是类型可以是不同的

```js
let t1: [number, string] = [1, 'a']
console.log(t1)
```

### 枚举类型

枚举，你可以理解为列举，举个例子：请列举出一个星期包含的天数，此时，你可以从星期一数到星期日，枚举类型表示的就是这种可以列举出有穷元素的集，当一个变量有多种情况的时候，可以使用枚举类型，它可以让一组数值具有更让人理解的名字

```js

enum Gender {
  MALE,
  FEMALE
}
let g: Gender = Gender.MALE
console.log(g) // 0
```

数字枚举

默认情况下，枚举元素的下标从 0 开始，当我们打印 Gender.MALE 的时候，输出的就是下标 0，你也可以指定元素的数值

```js
enum Gender {
  MALE = 1,
  FAMALE
}
let g: Gender = Gender.MALE
console.log(g)
```

字符串枚举

枚举的值可以是字符串

```js
enum gender {
  MALE = '男',
  FEMALE = '女'
}
console.log(gender.MALE, gender.FEMALE)

```

异构枚举

字符串和数字混在一起使用的情况就叫做异构枚举

```js
enum gender {
  MALE = 1,
  FEMALE = '女'
}
console.log(gender.MALE, gender.FEMALE)
```

### any 类型

any 表示可以使用任意类型，有时候我们不确定类型到底是什么的时候，就可以使用 any 类型，让检查器不对这些值进行检查直接通过编译阶段，举个例子：

```js
let obj: any = document.getElementById('root')
```

上面代码中，有时候能获取到元素，有时候获取不到元素，这个时候我们就可以使用 any 类型

说白了，any 就是让你能选择性的移除类型检查，例如：定义一个具有多种类型元素的数组

```js
let arr2: any[] = [1, true, 'a']
```

### void 类型

void 和 any 是正好相反的，any 表示的是你可以是任何类型，void 表示的是没有任何类型，当一个函数没有返回值的时候，通常使用 void 类型

```js
function fn(): void {
  console.log(1)
}

fn()
```

### null 和 undefined

null 和 undefined 这两种类型本身的用处不大，默认情况下，它们是所有类型的子类型，意味着你可以把 null 赋值给 number 或者其他类型

```js
let n1: number = null
```

需要注意的是，到底能不能把 null 赋值给其他类型，实际上和"strictNullChecks"这个配置有关系，你在 tsconfig 里面将"strictNullChecks"设置成 false，才可以赋值，否则不能将 null 赋值给你别的类型

### never

never 表示永远不的意思，那些永远不存在值的类型使用 never 表示，例如：一个函数中抛出了异常

```js
function fn(): never {
  throw new Error('报错了....')
}
```

一个函数无法到达终点，例如，写出了死循环，也可以使用 never

```js
function fn(): never {
  while (true) {
    console.log(1)
  }
}
```

ts 给我们自动推导出 never 类型

```ts
type A = string & number

let a: A = 123
```

上面这种写法会提示错误

![20221117122607](https://nodeing-com-1252923609.cos.ap-chengdu.myqcloud.com//document20221117122607.png)

我们定义的交叉类型 A，既是字符串类型，又是数字类型，这是永远不可能的，因此，ts 自动推导出一个 never 类型

::: tip
注意：
void 可以被赋值为 null 和 undefined 的类型。 never 则是一个不包含值的类型。
拥有 void 返回值类型的函数能正常运行。拥有 never 返回值类型的函数无法正常返回，无法终止，或会抛出异常
总结：never 类型在我们自己定义类型的时候，用得非常少，了解一下即可
:::

### object

object 表示非原始类型，也就是除 number，string，boolean，symbol，null 或 undefined 之外的类型，这是比较宽泛的一种数据类型

```ts
let arr: object = []
let fn: object = function () {}
```

如果你把一个基本类型赋值给你 object 类型，就会报错

![20221117120406](https://nodeing-com-1252923609.cos.ap-chengdu.myqcloud.com//document20221117120406.png)

### 联合类型

联合类型表示取值可以是多个类型中的一个，是或者关系

```js
let m: string | number
m = 'hello'
m = 123
```

上面代码中，如果超出了规定的这两种类型，就会报错

![20221117120927](https://nodeing-com-1252923609.cos.ap-chengdu.myqcloud.com//document20221117120927.png)

### 交叉类型

交叉类型是多种类型之间进行与的操作，即同时满足多种类型

```ts
let arr: object = []
type A = { username: string }
// 这种写法又叫做类型别名 用type关键字定义一个类型的别名
type B = { age: 12 }
let p2: A & B = { username: 'xiaoqiang', age: 12 }
```

上面我们定义 p2 的时候，既要满足类型 A，也要满足类型 B，如果只满足类型 A，就会报错

![20221117120831](https://nodeing-com-1252923609.cos.ap-chengdu.myqcloud.com//document20221117120831.png)

### 字面量类型

通过值来定义一些类型

```js
type nType = 88 | '男' | '女'

let n1: nType = 88
let n2: nType = '男'
let n3: nType = '女'
// let n4: nType = 99  // 报错
```

::: tip
注意： 字面量类型用来约束值只能是某几种值中的一个，联合类型约束的是几种类型中的一种
:::
